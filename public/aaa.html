<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="icon" href="images/heart.png">
  <title>happy birthday sayanggğŸ©·</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;700&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    html, body { height: 100%; min-height: 100%; }
    body {
      background-image: url('images/background.jpg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;
      color: #444;
      font-family: 'Poppins', sans-serif;
      overflow: hidden;
      min-height: 100vh;

      /* âœ… Disable text selection */
      user-select: none;
      -webkit-user-select: none;
      -ms-user-select: none;
    }
    .page {
      background-color: rgba(255, 255, 255, 0.4);
      height: 100vh;
      width: 100vw;
      position: absolute;
      top: 0;
      left: 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 20px;
      opacity: 0;
      pointer-events: none;
      transition: opacity 1s ease;
    }
    .page.active {
      opacity: 1;
      pointer-events: auto;
    }
    h1, h2 { color: #4d4d4d; margin-bottom: 1rem; }
    h1 { font-size: 2.2rem; }
    h2 { font-size: 1.8rem; }
    .highlight { color: #5e5e5e; font-weight: bold; }
    .button {
      background-color: #f0dada;
      color: #5e5e5e;
      border: none;
      border-radius: 25px;
      padding: 15px 30px;
      font-size: 1.2rem;
      cursor: pointer;
      margin-top: 30px;
      transition: background 0.3s;
    }
    .button:hover { background-color: #e5c7c7; }
    img {
      max-width: 70vw;
      max-height: 50vh;
      margin-bottom: 20px;
      border-radius: 12px;
    }
    .letter {
      white-space: pre-line;
      font-size: 1.1rem;
      max-width: 600px;
      text-align: left;
      border-left: 3px solid #c49b9b;
      padding-left: 15px;
      min-height: 200px;
      color: #4e4e4e;
      max-height: 300px;
      overflow-y: auto;
      background-color: rgba(255, 255, 255, 0.5);
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      margin-top: 20px;
    }
    .falling {
      position: fixed;
      top: -30px;
      font-size: 24px;
      animation: fall linear infinite;
      pointer-events: none;
      z-index: 9999;
    }
    @keyframes fall {
      to { transform: translateY(120vh) rotate(360deg); opacity: 0; }
    }
    @media (max-width: 600px) {
      body { background-attachment: scroll; }
      h1 { font-size: 1.8rem; }
      h2 { font-size: 1.5rem; }
      .button { padding: 10px 20px; font-size: 1rem; }
      .letter { font-size: 1rem; max-height: 250px; }
    }
  </style>
</head>
<body>

<!-- PAGE 1 -->
<div class="page active" id="page1">
  <img src="images/1.gif" alt="Cute Icon">
  <h1>Hi Priyo! ğŸ©·</h1>
  <p><em>Hasan</em></p>
  <button class="button" onclick="goToPage('page2')">ekhane tap koro â€¹ğŸ¹</button>
</div>

<!-- PAGE 2 -->
<div class="page" id="page2">
  <img src="images/2.gif" alt="Envelope">
  <p>tumi ready naki eta open korte?</p>
  <div class="buttons">
    <button class="button" onclick="goToPage('page3')">hummm bbyğŸ˜Š </button>
    <button class="button" onclick="goToPage('pageNo')">naaa, sowwy bby ğŸ˜˜</button>
  </div>
</div>

<!-- PAGE NO -->
<div class="page" id="pageNo">
  <img src="images/no.gif" alt="Oops No">
  <p>Back jao ar â€œhummm bbyğŸ˜Šâ€ te click diye surprise niye nao bby ğŸ˜˜</p>
  <div class="buttons">
    <button class="button" onclick="goToPage('page2')">back</button>
  </div>
</div>

<!-- PAGE 3 -->
<div class="page" id="page3">
  <img src="images/3.gif" alt="Love Note">
  <p>HyÃ£, uttor deoyÄr jonnyo dhonnyobÄd, oboshyoi!!!
  
  SheshtÄ Ämi tomÄr jonnyo kichu bÄniyechilÄm priyotomÄ,
  dhire dhire poá¹›o...</p>
  <button class="button" onclick="goToPage('page4')">Thik ache bby ğŸ’—</button>
</div>

<!-- PAGE 4 -->
<div class="page" id="page4">
  <img src="images/4.gif" alt="Just Us">
  <h1>happy birthday Hasan!</h1>
  <p>Aro bhalobhabe bere othar jonyo obhinondon, ami asha kori tumi shobshomoy sustho ebong shobshomoy shukhi thako, priyo...</p>
  <button class="button" onclick="goToPage('page5')">Tomar jonne khub bishes kichu likhechi ğŸ’Œ</button>
</div>

<!-- PAGE 5 -->
<div class="page" id="page5" style="font-family: 'Montserrat', sans-serif;">
  <div style="text-align: center; margin-top: 15px;">
    <img src="images/5.gif" alt="foto" style="width: 80%; max-width: 280px; border-radius: 12px; margin-bottom: 20px;">
  </div>
  <h2 style="text-align: center;">Tomar jonmodine tomar jonno shuvokamona  ğŸ¥¹ğŸ«¶ğŸ»</h2>
  <div class="letter" id="letterText"></div>
</div>

<audio id="bg-music" src="media/Party.mp3" autoplay loop muted></audio>
<script src="js/confetti.browser.min.js"></script>
<script>
  const fullLetter = `He bhalobasha, ami asha kori bhalo jinishgulo shobshomoy tomar shathe thakbe.Mohabishsho tomake poth dekhabe ebong tomar shwapno puroner poth shoj kure tulbe.Aj tumi ja cha, ta jeno shotti hoy.ğŸ¥¹ğŸ’—

Jodi o shob kichu tomar ichamto na hoy, tobu o nijeke chere dio na.Mone rekho: Tumi bhalobashar manush ebong shorboda shommanito howar joggo.ğŸ’—

Tumi kotodur eshecho ebong tomar shomosto procchestar jonno ami gorvito.Ami shobshomoy tomar jonno thakbo, shudhu ekti phone ba barta dure.Amar bari kachei ache, tai ami joto byastoi thaki na keno, jodi tomar amar proyojon hoy, ami tomar pashe thakte proshuto.ğŸ«¶ğŸ»`;

  function goToPage(pageId) {
    const pages = document.querySelectorAll('.page');
    pages.forEach(p => p.classList.remove('active'));
    const next = document.getElementById(pageId);
    next.classList.add('active');

    if(pageId === 'page5') {
      const music = document.getElementById("bg-music");
      music.muted = false;
      music.play().catch(e => console.log("Autoplay blocked:", e));

      confetti({ particleCount: 150, spread: 100, origin: { y: 0.6 } });
      typeText(fullLetter, document.getElementById('letterText'), 25);
      startFallingSymbols();
    }
  }

  function typeText(text, element, speed) {
    element.innerHTML = '';
    let i = 0;
    function type() {
      if(i < text.length) {
        element.innerHTML += text.charAt(i);
        element.scrollTop = element.scrollHeight;
        i++;
        setTimeout(type, speed);
      }
    }
    type();
  }

  function startFallingSymbols() {
    const symbols = ['ğŸ’—', 'âœ¨']; 
    setInterval(() => {
      const el = document.createElement('div');
      el.classList.add('falling');
      el.innerText = symbols[Math.floor(Math.random() * symbols.length)];
      el.style.left = Math.random() * 100 + 'vw';
      el.style.fontSize = '24px';
      el.style.animation = `fall ${3 + Math.random()*2}s linear forwards`;
      document.body.appendChild(el);
      setTimeout(() => el.remove(), 6000);
    }, 300);
  }
</script>

<script>
  // URL à¦¥à§‡à¦•à§‡ name à¦ªà§à¦¯à¦¾à¦°à¦¾à¦®à¦¿à¦Ÿà¦¾à¦° à¦¨à¦¿à¦¯à¦¼à§‡ à¦†à¦¸à¦¾
  function getNameFromURL() {
    const params = new URLSearchParams(window.location.search);
    return params.get('name') || 'Priyo'; // à¦¯à¦¦à¦¿ à¦¨à¦¾ à¦¥à¦¾à¦•à§‡, à¦¡à¦¿à¦«à¦²à§à¦Ÿ 'Priyo'
  }
  
  const userName = getNameFromURL();
  
  // Page1, Page4 à¦‡à¦¤à§à¦¯à¦¾à¦¦à¦¿ à¦¯à§‡à¦–à¦¾à¦¨à§‡ à¦¨à¦¾à¦® à¦†à¦›à§‡ à¦¸à§‡à¦—à§à¦²à§‹à¦¤à§‡ à¦†à¦ªà¦¡à§‡à¦Ÿ à¦•à¦°à¦¾
  document.querySelectorAll('h1, p').forEach(el => {
    if (el.innerHTML.includes('Hasan') || el.innerHTML.includes('Priyo')) {
      el.innerHTML = el.innerHTML.replace(/Hasan|Priyo/g, userName);
    }
  });
</script>

</body>
</html>